# isQCoderDataset

ä½¿ç”¨é˜¿é‡Œäº‘é€šä¹‰åƒé—®APIç”Ÿæˆé‡å­è®¡ç®—æŒ‡ä»¤å¾®è°ƒæ•°æ®é›†çš„å·¥å…·ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ å¼‚æ­¥APIè°ƒç”¨ï¼Œæé«˜ç”Ÿæˆæ•ˆç‡
- ğŸ” å®‰å…¨çš„APIå¯†é’¥ç®¡ç†
- ğŸ“Š å¤šç§ç±»å‹çš„æŒ‡ä»¤æ•°æ®ç”Ÿæˆï¼ˆæ¦‚å¿µè§£é‡Šã€ä»£ç å®ç°ã€é—®é¢˜åˆ†æã€æ¯”è¾ƒåˆ†æï¼‰
- ğŸ“ å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†
- ğŸ› ï¸ æ•°æ®é›†è´¨é‡éªŒè¯å’Œåˆ†æå·¥å…·
- ğŸ“ˆ æ•°æ®é›†ç»Ÿè®¡å’Œé¢„è§ˆåŠŸèƒ½

## å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

## é…ç½®APIå¯†é’¥

### æ–¹æ³•1ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

```bash
export QIANWEN_API_KEY="your-actual-api-key-here"
# æˆ–è€…
export DASHSCOPE_API_KEY="your-actual-api-key-here"
```

### æ–¹æ³•2ï¼šä½¿ç”¨.envæ–‡ä»¶

1. å¤åˆ¶ç¯å¢ƒé…ç½®ç¤ºä¾‹æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

2. ç¼–è¾‘`.env`æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„çœŸå®APIå¯†é’¥ï¼š
```
QIANWEN_API_KEY=your-actual-api-key-here
```

**æ³¨æ„ï¼š.envæ–‡ä»¶å·²è¢«æ·»åŠ åˆ°.gitignoreä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç¡®ä¿APIå¯†é’¥å®‰å…¨ã€‚**

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨

```bash
python data.py
```

### è‡ªå®šä¹‰å‚æ•°

```bash
python data.py --output my_dataset.jsonl --max-samples 6 --data-dir ./papers
```

### å‚æ•°è¯´æ˜

- `--output, -o`: è¾“å‡ºæ–‡ä»¶åï¼ˆé»˜è®¤ï¼šquantum_instruction_dataset.jsonlï¼‰
- `--max-samples, -m`: æ¯ç¯‡è®ºæ–‡æœ€å¤§æ ·æœ¬æ•°ï¼ˆé»˜è®¤ï¼š4ï¼‰
- `--data-dir, -d`: è®ºæ–‡æ–‡ä»¶ç›®å½•ï¼ˆé»˜è®¤ï¼šdataï¼‰

## æ•°æ®é›†æ ¼å¼

ç”Ÿæˆçš„æ•°æ®é›†é‡‡ç”¨JSONLæ ¼å¼ï¼Œæ¯è¡Œä¸€ä¸ªJSONå¯¹è±¡ï¼š

```json
{
  "instruction": "è¯·è§£é‡Šé‡å­ç”µè·¯ç­‰ä»·æ€§æ£€æŸ¥ä¸­çš„å…¨å±€ç›¸ä½ç­‰ä»·æ€§æ¦‚å¿µã€‚",
  "input": "",
  "output": "å…¨å±€ç›¸ä½ç­‰ä»·æ€§æ˜¯æŒ‡ä¸¤ä¸ªé‡å­çŠ¶æ€|Î¨âŸ©å’Œ|Î¦âŸ©æ»¡è¶³|Î¦âŸ©=e^(iÎ¸)|Î¨âŸ©çš„å…³ç³»...",
  "metadata": {
    "generated_at": "2024-01-01T12:00:00",
    "model": "deepseek-chat"
  }
}
```

## å·¥å…·å‡½æ•°

### æ•°æ®é›†åˆ†æ

```python
from utils import analyze_dataset, preview_dataset

# åˆ†ææ•°æ®é›†ç»Ÿè®¡ä¿¡æ¯
stats = analyze_dataset("quantum_instruction_dataset.jsonl")
print(stats)

# é¢„è§ˆæ•°æ®é›†å†…å®¹
preview_dataset("quantum_instruction_dataset.jsonl", num_samples=3)
```

### æ•°æ®é›†è´¨é‡è¿‡æ»¤

```python
from utils import filter_dataset_by_quality

# æŒ‰è´¨é‡è¿‡æ»¤æ•°æ®é›†
filter_dataset_by_quality(
    "quantum_instruction_dataset.jsonl",
    "filtered_dataset.jsonl",
    min_output_length=50
)
```

### åˆå¹¶å¤šä¸ªæ•°æ®é›†

```python
from utils import merge_datasets

# åˆå¹¶å¤šä¸ªæ•°æ®é›†æ–‡ä»¶
merge_datasets(
    ["dataset1.jsonl", "dataset2.jsonl"],
    "merged_dataset.jsonl"
)
```

## ç”Ÿæˆçš„æ•°æ®ç±»å‹

è„šæœ¬ä¼šä¸ºæ¯ç¯‡è®ºæ–‡ç”Ÿæˆ4ç§ç±»å‹çš„æŒ‡ä»¤æ•°æ®ï¼š

1. **æ¦‚å¿µè§£é‡Šç±»**ï¼šè§£é‡Šè®ºæ–‡ä¸­çš„æ ¸å¿ƒæ¦‚å¿µå’Œç†è®º
2. **ä»£ç å®ç°ç±»**ï¼šå®ç°è®ºæ–‡ä¸­çš„ç®—æ³•å’Œæ–¹æ³•
3. **é—®é¢˜åˆ†æç±»**ï¼šåˆ†æè®ºæ–‡ä¸­æå‡ºçš„é—®é¢˜å’ŒæŒ‘æˆ˜
4. **æ¯”è¾ƒåˆ†æç±»**ï¼šæ¯”è¾ƒä¸åŒæ–¹æ³•ã€ç®—æ³•æˆ–æ¦‚å¿µ

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **APIå¯†é’¥ä¿æŠ¤**ï¼š
   - ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–.envæ–‡ä»¶å­˜å‚¨APIå¯†é’¥
   - ä¸è¦å°†APIå¯†é’¥ç¡¬ç¼–ç åœ¨ä»£ç ä¸­
   - .envæ–‡ä»¶å·²åœ¨.gitignoreä¸­ï¼Œä¸ä¼šè¢«æäº¤

2. **æ—¥å¿—å®‰å…¨**ï¼š
   - æ—¥å¿—æ–‡ä»¶ä¸åŒ…å«æ•æ„Ÿä¿¡æ¯
   - APIè°ƒç”¨é”™è¯¯ä¿¡æ¯å·²è„±æ•å¤„ç†

3. **æ•°æ®éšç§**ï¼š
   - ç”Ÿæˆçš„æ•°æ®é›†ä¸åŒ…å«åŸå§‹APIå¯†é’¥
   - å¯å®‰å…¨åœ°åˆ†äº«ç”Ÿæˆçš„æ•°æ®é›†

## æ•…éšœæ’é™¤

### APIè°ƒç”¨å¤±è´¥

1. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®
2. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
3. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### ç”Ÿæˆè´¨é‡é—®é¢˜

1. è°ƒæ•´æ¸©åº¦å‚æ•°ï¼ˆtemperatureï¼‰æ§åˆ¶åˆ›é€ æ€§
2. å¢åŠ max_tokensæé«˜è¾“å‡ºé•¿åº¦
3. ä¿®æ”¹æç¤ºæ¨¡æ¿ä¼˜åŒ–ç”Ÿæˆæ•ˆæœ

### ä¾èµ–å®‰è£…é—®é¢˜

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

## å¼€å‘è¯´æ˜

é¡¹ç›®ç»“æ„ï¼š
- `data.py`: ä¸»è¦çš„æ•°æ®ç”Ÿæˆè„šæœ¬
- `config.py`: é…ç½®ç®¡ç†æ¨¡å—
- `utils.py`: æ•°æ®å¤„ç†å·¥å…·å‡½æ•°
- `requirements.txt`: Pythonä¾èµ–åˆ—è¡¨
- `.env.example`: ç¯å¢ƒé…ç½®ç¤ºä¾‹

## License

MIT License